@page "/harvest-reports/create"
@using WildlifeMortalities.Data.Entities.Reporters
@using WildlifeMortalities.Shared.Models

@*<MudText Typo="Typo.h3" Class="mb-8">New Harvest Report</MudText>
<MudItem lg="4">
    <MudTabs Elevation="4" Rounded="true" Centered="true" Color="@Color.Info" Class="mt-4" KeepPanelsAlive="true" @bind-ActivePanelIndex="_selectedIndex">
        <MudTabPanel Text="Reporter">
            <PageStepComponent StepNumber="1" IsValid="_validationMapper[1]" OnNextClicked="OnNextClicked">

            </PageStepComponent>
        </MudTabPanel>
        <MudTabPanel Text="Type" Disabled="@(_validationMapper[1] == false)">
            <PageStepComponent StepNumber="2" IsValid="_validationMapper[2]" OnNextClicked="OnNextClicked" OnPreviousClicked="OnPreviousClicked">
            </PageStepComponent>
        </MudTabPanel>
        <MudTabPanel Text="Report" Disabled="@(_validationMapper[2] == false)">
        </MudTabPanel>
    </MudTabs>
</MudItem>*@


<SelectReporterComponent ValidationChanged="@( (x) => SetStepValidation(1,x))" />
@if (_validationMapper[1] == true)
{
    <SelectHarvestReportTypeComponent ValidationChanged="@( (x) => SetStepValidation(2,x))" HarvestReportTypeChanged="HarvestReportTypeChanged" />
    @if (_validationMapper[2] == true)
    {
        <SelectSpeciesComponent ReportType="_harvestReportType" SpeciesChanged="SpeciesChanged" ValidationChanged="@( (x) => SetStepValidation(3,x))" />

        @if (_validationMapper[3] == true)
        {
            <CreateMortality Species="_species" />
        }
    }
}
