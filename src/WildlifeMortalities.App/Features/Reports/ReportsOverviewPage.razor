@attribute [Route(Constants.Routes.ReportsOverviewPage)]
@using WildlifeMortalities.App.Features.Reporters
@using WildlifeMortalities.App.Features.Shared.Mortalities

<PageTitle>All Reports</PageTitle>

<MudTabs Color="Color.Info" KeepPanelsAlive="true">
    <MudTabPanel Text="Submitted">
        <ReportsTableComponent />
    </MudTabPanel>
    <MudTabPanel Text="@($"Drafts{(_draftReportCount != null ? $" ({_draftReportCount})" : string.Empty)}")">
        <DraftReportsTableComponent DraftReportCount="HandleDraftReportCount" />
    </MudTabPanel>
</MudTabs>

@code {
    private int? _draftReportCount;

    public async Task HandleDraftReportCount(int count) => await Task.FromResult(_draftReportCount = count);
}