@using Microsoft.EntityFrameworkCore
@using WildlifeMortalities.App.Features.Shared.Mortalities
@using WildlifeMortalities.Data
@using WildlifeMortalities.Data.Entities

<MortalityComponent ViewModel="ViewModel.MortalityWithSpeciesSelectionViewModel" ReportType="MortalityReportType" DisableSpeciesSelection="@(EditMode)"/>

@switch (ViewModel)
{
    case HuntedActivityViewModel vm:
        <HuntedActivityComponent ViewModel="vm"/>
        break;
    case TrappedActivityViewModel vm:
        <TrappedActivityComponent ViewModel="vm"/>
        break;
}

<MudTextField @bind-Value="ViewModel.Comment" For="@(() => ViewModel.Comment)" Label="Comment" Lines="4" />

@code {

    [Parameter]
    [EditorRequired]
    public ActivityViewModel ViewModel { get; set; } = null!;

    [CascadingParameter(Name = Constants.CascadingValues.EditMode)]
    public bool EditMode { get; set; } = false;

    [CascadingParameter(Name = Constants.CascadingValues.MortalityReportType)]
    public MortalityReportType MortalityReportType { get; set; }
}
