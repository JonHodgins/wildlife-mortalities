@namespace WildlifeMortalities.App.Features.MortalityReports
@using WildlifeMortalities.App.Extensions
@using WildlifeMortalities.Data.Enums
@inherits ReportTypeComponent<SelectSpeciesViewModel>

<EditForm EditContext="_context">
    <FluentValidationValidator Validator="new SelectSpeciesViewModelValidator(ReportType)"/>

    @if (ReportType is MortalityReportType.Conflict)
    {
    }
    else if (ReportType is MortalityReportType.IndividualHunt || ReportType is MortalityReportType.OutfitterGuidedHunt)
    {
        <MudSelect T="HuntedSpecies?" @bind-Value="ViewModel.HuntedSpecies" For="@(() => ViewModel.HuntedSpecies)" Label="Species" Placeholder="Select a species">
            @foreach (var species in Enum.GetValues<HuntedSpecies>().Where(s => s != HuntedSpecies.Uninitialized))
            {
                <MudSelectItem Value="@species" T="HuntedSpecies?">@species.GetDisplayName()</MudSelectItem>
            }
        </MudSelect>
    }
    else if (ReportType is MortalityReportType.SpecialGuidedHunt)
    {
        <MudSelect T="HuntedSpecies?" @bind-Value="ViewModel.HuntedSpecies" For="@(() => ViewModel.HuntedSpecies)" Label="Species" Placeholder="Select a species">
            @foreach (var species in Enum.GetValues<HuntedSpecies>()
                .Where(s => s == HuntedSpecies.AmericanBlackBear || s == HuntedSpecies.BarrenGroundCaribou || s == HuntedSpecies.Coyote || s == HuntedSpecies.GreyWolf || s == HuntedSpecies.WoodBison || s == HuntedSpecies.WoodlandCaribou))
            {
                <MudSelectItem Value="@species" T="HuntedSpecies?">@species.GetDisplayName()</MudSelectItem>
            }
        </MudSelect>
    }
    else if (ReportType is MortalityReportType.Trapped)
    {
        <MudSelect T="TrappedSpecies?" @bind-Value="ViewModel.TrappedSpecies" For="@(() => ViewModel.TrappedSpecies)" Label="Species" Placeholder="Select a species">
            @foreach (var species in Enum.GetValues<TrappedSpecies>().Where(s => s != TrappedSpecies.Uninitialized))
            {
                <MudSelectItem Value="@species" T="TrappedSpecies?">@species.GetDisplayName()</MudSelectItem>
            }
        </MudSelect>
    }
</EditForm>
