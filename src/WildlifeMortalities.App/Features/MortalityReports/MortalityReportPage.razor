@page "/mortality-reports/{personid:int}"
@using WildlifeMortalities.App.Extensions
@using WildlifeMortalities.Data.Entities.People
@using WildlifeMortalities.Shared.Models


<EditForm EditContext="_editContext">

    <MudSelect T="MortalityReportType" @bind-Value="_vm.MortalityReportType" For="@(() => _vm.MortalityReportType)" Label="Mortality Report Type">
        @foreach (MortalityReportType mortalityReportType in Enum.GetValues(typeof(MortalityReportType)))
        {
            <MudSelectItem Value="@mortalityReportType" T="MortalityReportType">@mortalityReportType.GetDisplayName()</MudSelectItem>
        }
    </MudSelect>


    @if(_vm.MortalityReportType == MortalityReportType.Hunted)
    {
        <MortalityComponent ViewModelChanged="SetMortalityViewModel" ReportType="_vm.MortalityReportType"  />
    }
    else if(_vm.MortalityReportType == MortalityReportType.SpecialGuided)
    {

    }
    <MudTextField Label="Comments" Lines="5" @bind-Value="_vm.Comments" For="@( () => _vm.Comments)" />

    <MudButton OnClick="CreateMortalityReport" Color="Color.Primary">Add</MudButton>
</EditForm>



