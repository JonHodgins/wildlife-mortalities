@page "/mortality-reports/{personid:int}"
@using WildlifeMortalities.Data.Entities.People
@using WildlifeMortalities.Shared.Models

<SelectMortalityReportTypeComponent ValidationChanged="@( (x) => SetStepValidation(1,x))" MortalityReportTypeChanged="MortalityReportTypeChanged" />
@if (_validationMapper[1] == true)
{
    <SelectSpeciesComponent ReportType="_mortalityReportType" SpeciesChanged="SpeciesChanged" ValidationChanged="@( (x) => SetStepValidation(2,x))" />

    @if (_validationMapper[2] == true)
    {

        <MortalityReportComponent ReportType="_mortalityReportType" ViewModelChanged="SetMortalityReportViewModel" ValidationChanged="@( (x) => SetStepValidation(3,x))" />
        <MortalityComponent ViewModelChanged="SetMortalityViewModel" Species="_species" ValidationChanged="@( (x) => SetStepValidation(4,x))" />

        @if (_validationMapper[3] == true && _validationMapper[4] == true)
        {
            <MudButton OnClick="CreateMortalityReport">Create</MudButton>
        } else {
            <MudButton Disabled="true">Create</MudButton>
        }

    }
}


