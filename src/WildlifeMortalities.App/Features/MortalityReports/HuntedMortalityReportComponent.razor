<EditForm EditContext="_context">
    <FluentValidationValidator/>
    <MudTextField @bind-Value="ViewModel.Landmark" For="@(() => ViewModel.Landmark)" Label="Landmark"/>
    <MortalityComponent ViewModelChanged="SetMortalityViewModel" ReportType="MortalityReportType" EditViewModel="@(MortalityReportType.HasValue == false ? ViewModel.MortalityViewModel : null)"/>
    <MudTextField @bind-Value="ViewModel.Comment" For="@(() => ViewModel.Comment)" Label="Comment"/>
</EditForm>

@code {
    private EditContext _context;

    [Parameter]
    [EditorRequired]
    public HuntedMortalityReportViewModel ViewModel { get; set; } = null!;

    protected override void OnInitialized()
    {
        _context = new EditContext(ViewModel);
    }

    [Parameter]
    [EditorRequired]
    public MortalityReportType? MortalityReportType { get; set; }

    private void SetMortalityViewModel(MortalityViewModel viewModel)
    {
        ViewModel.MortalityViewModel = viewModel;
    }

    public bool IsValid()
    {
        return _context.Validate();
    }

}
